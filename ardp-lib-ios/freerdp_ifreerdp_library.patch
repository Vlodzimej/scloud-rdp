diff --git a/client/iOS/CMakeLists.txt b/client/iOS/CMakeLists.txt
index 4970cee08..773d52e91 100644
--- a/client/iOS/CMakeLists.txt
+++ b/client/iOS/CMakeLists.txt
@@ -81,9 +81,10 @@ find_library(COREGRAPHICS_FRAMEWORK CoreGraphics)
 find_library(SECURITY_FRAMEWORK Security)
 find_library(UIKIT_FRAMEWORK UIKit)
 find_library(SYSTEMCONFIGURATION_FRAMEWORK SystemConfiguration)
+find_package(ZLIB)
 
 mark_as_advanced(FOUNDATION_FRAMEWORK COREGRAPHICS_FRAMEWORK SECURITY_FRAMEWORK UIKIT_FRAMEWORK SYSTEMCONFIGURATION_FRAMEWORK)
-set(EXTRA_LIBS ${FOUNDATION_FRAMEWORK} ${COREGRAPHICS_FRAMEWORK} ${SECURITY_FRAMEWORK} ${UIKIT_FRAMEWORK} ${SYSTEMCONFIGURATION_FRAMEWORK})
+set(EXTRA_LIBS ${FOUNDATION_FRAMEWORK} ${COREGRAPHICS_FRAMEWORK} ${SECURITY_FRAMEWORK} ${UIKIT_FRAMEWORK} ${SYSTEMCONFIGURATION_FRAMEWORK} ZLIB::ZLIB)
 
 set(${MODULE_NAME}_RESOURCES ${IOS_CLIENT_RESOURCES_XIBS})
 set(${MODULE_NAME}_RESOURCES ${${MODULE_NAME}_RESOURCES} ${IOS_CLIENT_RESOURCES_PNGS})
@@ -130,3 +131,24 @@ set(${MODULE_PREFIX}_LIBS ${${MODULE_PREFIX}_LIBS} winpr freerdp)
 target_link_libraries(${MODULE_NAME} ${${MODULE_PREFIX}_LIBS})
 
 set_property(TARGET ${MODULE_NAME} PROPERTY FOLDER "Client/iOS")
+
+add_library(${MODULE_NAME}Lib ${${MODULE_PREFIX}_SRCS}
+        ${IOS_CLIENT_ADDITIONS_SRCS} ${IOS_CLIENT_ADDITIONS_HDRS}
+        ${IOS_CLIENT_CONTROLLERS_SRCS} ${IOS_CLIENT_CONTROLLERS_HDRS}
+        ${IOS_CLIENT_FREERDP_SRCS} ${IOS_CLIENT_FREERDP_HDRS}
+        ${IOS_CLIENT_MISC_SRCS} ${IOS_CLIENT_MISC_HDRS}
+        ${IOS_CLIENT_MODELS_SRCS} ${IOS_CLIENT_MODELS_HDRS}
+        ${IOS_CLIENT_VIEWS_SRCS} ${IOS_CLIENT_VIEWS_HDRS}
+        ${${MODULE_NAME}_RESOURCES})
+
+set_source_files_properties(
+        ${${MODULE_PREFIX}_SRCS}
+        ${IOS_CLIENT_ADDITIONS_SRCS} ${IOS_CLIENT_ADDITIONS_HDRS}
+        ${IOS_CLIENT_CONTROLLERS_SRCS} ${IOS_CLIENT_CONTROLLERS_HDRS}
+        ${IOS_CLIENT_FREERDP_SRCS} ${IOS_CLIENT_FREERDP_HDRS}
+        ${IOS_CLIENT_MISC_SRCS} ${IOS_CLIENT_MISC_HDRS}
+        ${IOS_CLIENT_MODELS_SRCS} ${IOS_CLIENT_MODELS_HDRS}
+        ${IOS_CLIENT_VIEWS_SRCS} ${IOS_CLIENT_VIEWS_HDRS}
+PROPERTIES COMPILE_FLAGS "-fno-objc-arc")
+
+target_link_libraries(${MODULE_NAME}Lib ${${MODULE_PREFIX}_LIBS})
